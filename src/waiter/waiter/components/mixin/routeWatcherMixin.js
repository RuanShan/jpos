//不同路由切换时，页面需要重新加载数据，以便显示最新数据，
//如， 收银界面 和 订单界面，收银界面添加订单后，打开订单界面，界面应该是最新订单数据
// 如果 监控 route，调用 更新数据方法，会导致切换页面时，所有其他页面都更新数据，导致不必要的网络访问。

// 需要页面自定义方法，initData()，以便重新初始化相应数据
export var userDataMixin = {

  beforeRouteUpdate (to, from, next) {
    // 在当前路由改变，但是该组件被复用时调用
    // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，
    // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。
    // 可以访问组件实例 `this`
    this.initData()
  },
}
